--- flite-1.4-release/config/common_make_rules.0010~	2009-07-30 16:52:56.000000000 +0200
+++ flite-1.4-release/config/common_make_rules	2014-06-19 01:04:55.922547528 +0200
@@ -68,8 +68,18 @@ BUILDDIRS=$(OBJDIR) $(BINDIR) $(LIBDIR)
 
 FLITELIBS = $(BUILDDIR)/lib/libflite.a
 FLITELIBFLAGS = -L$(BUILDDIR)/lib -lflite 
-LDFLAGS += -lm $(AUDIOLIBS) $(OTHERLIBS)
+LDFLAGS += -lm $(OTHERLIBS)
 
+libflite_LDLIBS = $(AUDIOLIBS) -lm
+libflite_cmulex_LDLIBS = -lflite $(AUDIOLIBS)
+libflite_usenglish_LDLIBS = -lflite $(AUDIOLIBS)
+libflite_cmu_us_awb_LDLIBS = -lflite_cmulex -lflite_usenglish -lflite $(AUDIOLIBS)
+libflite_cmu_us_kal_LDLIBS = -lflite_cmulex -lflite_usenglish -lflite $(AUDIOLIBS)
+libflite_cmu_us_kal16_LDLIBS = -lflite_cmulex -lflite_usenglish -lflite $(AUDIOLIBS)
+libflite_cmu_us_rms_LDLIBS = -lflite_cmulex -lflite_usenglish -lflite $(AUDIOLIBS)
+libflite_cmu_us_slt_LDLIBS = -lflite_cmulex -lflite_usenglish -lflite $(AUDIOLIBS)
+libflite_cmu_time_awb_LDLIBS = -lflite -lflite_cmulex -lflite_usenglish -lflite $(AUDIOLIBS)
+ 
 FULLOBJS = $(OBJS:%=$(OBJDIR)/%)
 ifdef SHFLAGS
 SOOBJS = $(OBJS:.o=.os)
@@ -123,7 +133,7 @@ $(LIBDIR)/%.so: $(LIBDIR)/%.shared.a
 	@ rm -rf shared_os && mkdir shared_os
 	@ rm -f $@ $@.${PROJECT_VERSION} $@.${PROJECT_SHLIB_VERSION} 
 	@ (cd shared_os && ar x ../$<)
-	@ (cd shared_os && $(CC) -shared -Wl,-soname,`basename $@`.${PROJECT_SHLIB_VERSION} -o ../$@.${PROJECT_VERSION} *.os)
+	@ (cd shared_os && $(CC) -shared -Wl,-soname,`basename $@`.${PROJECT_SHLIB_VERSION} -o ../$@.${PROJECT_VERSION} *.os $(LDFLAGS) -L../$(dir $@) $($(patsubst %.so,%_LDLIBS,$(notdir $@))))
 	@ (cd $(LIBDIR) && ln -s `basename $@.${PROJECT_VERSION}` `basename $@.${PROJECT_SHLIB_VERSION}` )
 	@ (cd $(LIBDIR) && ln -s `basename $@.${PROJECT_SHLIB_VERSION}` `basename $@` )
 	@ rm -rf shared_os
--- flite-1.4-release/main/Makefile.0010~	2009-08-14 23:11:07.000000000 +0200
+++ flite-1.4-release/main/Makefile	2014-06-19 01:04:55.922547528 +0200
@@ -51,7 +51,7 @@ ALL = shared_libs \
 VOICES=$(VOXES)
 VOICELIBS=$(VOICES:%=flite_%)
 
-flite_LIBS = $(VOICELIBS) $(LANGS:%=flite_%) $(LEXES:%=flite_%) flite
+flite_LIBS = flite $(LEXES:%=flite_%) $(LANGS:%=flite_%) $(VOICELIBS)
 
 flite_LIBS_flags = -L$(LIBDIR) $(flite_LIBS:%=-l%)
 flite_LIBS_deps = $(flite_LIBS:%=$(LIBDIR)/lib%.a)
@@ -85,17 +85,17 @@ $(BINDIR)/flite$(EXEEXT): flite_main.o $
 	$(TOP)/tools/make_voice_list $(VOICES)
 	rm -f flite_voice_list.o
 	$(MAKE) flite_voice_list.o
-	$(CC) $(CFLAGS) -o $@ flite_main.o flite_voice_list.o $(flite_LIBS_flags) $(LDFLAGS)
+	$(CC) $(CFLAGS) -o $@ flite_main.o flite_voice_list.o $(LDFLAGS) $(flite_LIBS_flags)
 
 $(BINDIR)/flite_time$(EXEEXT): flite_time_main.o $(flite_time_LIBS_deps)
-	$(CC) $(CFLAGS) -o $@ flite_time_main.o $(flite_time_LIBS_flags) $(FLITELIBFLAGS) $(LDFLAGS) 
+	$(CC) $(CFLAGS) -o $@ flite_time_main.o $(LDFLAGS) $(flite_time_LIBS_flags) $(FLITELIBFLAGS)
 
 $(BINDIR)/t2p$(EXEEXT): t2p_main.o $(flite_LIBS_deps)
-	$(CC) $(CFLAGS) -o $@ t2p_main.o $(flite_LIBS_flags) $(LDFLAGS)
+	$(CC) $(CFLAGS) -o $@ t2p_main.o $(LDFLAGS) $(flite_LIBS_flags)
 
 
 $(BINDIR)/compile_regexes$(EXEEXT): compile_regexes.o $(FLITELIBS)
-	$(CC) $(CFLAGS) -o $@ compile_regexes.o $(FLITELIBFLAGS) $(LDFLAGS)
+	$(CC) $(CFLAGS) -o $@ compile_regexes.o $(LDFLAGS) $(FLITELIBFLAGS)
 
 each:
 	@ for i in $(VOICES) ; \
@@ -107,7 +107,7 @@ $(BINDIR)/flite_${VOICE}: flite_main.o $
 	$(TOP)/tools/make_voice_list $(VOICE)
 	rm -f flite_voice_list.o
 	$(MAKE) flite_voice_list.o
-	$(CC) $(CFLAGS) -o $@ flite_main.o flite_voice_list.o $(flite_LIBS_flags) $(LDFLAGS)
+	$(CC) $(CFLAGS) -o $@ flite_main.o flite_voice_list.o $(LDFLAGS) $(flite_LIBS_flags)
 
 install:
 #       The basic binaries
--- flite-1.4-release/Makefile.0010~	2009-07-30 14:24:58.000000000 +0200
+++ flite-1.4-release/Makefile	2014-06-19 01:06:36.493436249 +0200
@@ -43,7 +43,7 @@
 TOP=.
 DIRNAME=
 BUILD_DIRS = include src lang doc
-ALL_DIRS=config $(BUILD_DIRS) testsuite sapi palm wince windows tools main
+ALL_DIRS=config $(BUILD_DIRS) testsuite sapi palm wince windows main tools
 CONFIG=configure configure.in config.sub config.guess \
        missing install-sh mkinstalldirs
 WINDOWS = Exports.def flite.sln fliteDll.vcproj
@@ -51,7 +51,7 @@ FILES = Makefile README ACKNOWLEDGEMENTS
 DIST_CLEAN = config.cache config.log config.status \
 		config/config config/system.mak FileList
 
-HOST_ONLY_DIRS = tools main
+HOST_ONLY_DIRS = main tools
 ALL = $(BUILD_DIRS)
 
 config_dummy := $(shell test -f config/config || ( echo '*** '; echo '*** Making default config file ***'; echo '*** '; ./configure; )  >&2)
--- flite-1.4-release/testsuite/Makefile.0010~	2009-11-25 21:29:09.000000000 +0100
+++ flite-1.4-release/testsuite/Makefile	2014-06-19 01:04:55.922547528 +0200
@@ -71,5 +71,5 @@ MAIN_O = $(SRCS:%=%_main.o)
 $(MAIN_O) : %_main.o : %_main.c
 	$(CC) $(CFLAGS) -o $@ $< 
 $(ALL) : %$(EXEEXT) : %_main.o $(FLITELIBS)
-	$(CC) $(CFLAGS) -o $@ $@_main.o $($(@:=_LIBS)) $(FLITELIBFLAGS) $(LDFLAGS)
+	$(CC) $(CFLAGS) -o $@ $@_main.o $($(@:=_LIBS)) $(LDFLAGS) $(FLITELIBFLAGS)
 
--- flite-1.4-release/tools/Makefile.0010~	2009-08-22 21:19:01.000000000 +0200
+++ flite-1.4-release/tools/Makefile	2014-06-19 01:04:55.922547528 +0200
@@ -62,9 +62,9 @@ include $(TOP)/config/common_make_rules
 LOCAL_CLEAN = $(BINDIR)/find_sts $(BINDIR)/flite_sort
 
 $(BINDIR)/find_sts: find_sts_main.o $(FLITELIBS) 
-	$(CC) $(CFLAGS) -o $@ find_sts_main.o $(FLITELIBFLAGS) $(LDFLAGS)
+	$(CC) $(CFLAGS) -o $@ find_sts_main.o $(LDFLAGS) $(FLITELIBFLAGS)
 $(BINDIR)/flite_sort: flite_sort_main.o $(FLITELIBS)
-	$(CC) $(CFLAGS) -o $@ flite_sort_main.o $(FLITELIBFLAGS) $(LDFLAGS)
+	$(CC) $(CFLAGS) -o $@ flite_sort_main.o $(LDFLAGS) $(FLITELIBFLAGS)
 makescripts:
 	@ cp -p $(SCRIPTS) $(TOP)/bin
 
--- flite-1.4-release/tools/Makefile.flite.0010~	2009-08-22 20:24:37.000000000 +0200
+++ flite-1.4-release/tools/Makefile.flite	2014-06-19 01:04:55.922547528 +0200
@@ -103,7 +103,7 @@ $(VOICENAME)_mcep.o: $(VOICENAME)_mcep.c
 	$(CC) -I. -I$(FLITEDIR)/include -c -o $@ $<
 
 flite_$(VOICENAME): flite_main.o flite_voice_list.o $(FLITELIBS) lib$(VOICENAME).a
-	$(CC) $(CFLAGS) -o $@ flite_main.o flite_voice_list.o $(LOCAL_LIBS)  $(LOCAL_LANGLEX_LIBS) $(FLITELIBFLAGS) $(LDFLAGS)
+	$(CC) $(CFLAGS) -o $@ flite_main.o flite_voice_list.o $(LDFLAGS) $(LOCAL_LIBS)  $(LOCAL_LANGLEX_LIBS) $(FLITELIBFLAGS)
 
 .build_lib: $(OBJS)
 	@ $(AR) cruv $(LIBDIR)/lib$(VOICENAME).a $(OBJS)
